发送消息功能不足之处：
1.发送时用户不在线，数据落盘，用户上线后位置显示错误。
2.数据落盘后，用户上线直接读取所有属于自己的消息，如果此时用户存在大量消息(真正关心的可能只有几个，群组消息大概率不看)，浪费流浪还会造成卡顿。

添加好友不足之处：
1.直接双向添加，没有同意、拒绝状态处理

发送消息功能不足之处：
1.发送方点击后接收方直接出现窗口，不太合适，应该等发送消息后再出现提示，而且不应该直接讲消息框置于当前浏览窗口之上。

群组消息：
1.群组群发消息时在用户本次上线没有发送过消息时无法接受到，因为channelgroup没有保存
2.即使用户在群组（user_group有记录），但是没有chat_record记录也不会显示消息
因此群组消息发送与接收功能非常不完整

群组离线消息如何通知？数量通知(离线表？) 离线表的话如何确定最终删除该记录？
单聊离线消息如何通知？离线表，查询结束直接删除即可，也可计算未读消息。
单聊和群聊中在线消息后点击了某一好友对话框之后又切换出去了如何显示未读数量？(判断是否是当前选中的Pane即可分别要不要提醒，属于前端的任务)
TCP的拆包 粘包
序列化 反序列化
图片和文字一起发送怎么实现的？
    1.文字+固定表情  #(编号)  编号是相对路径  这样的话只需要使用正则表达式提取#()即可区分消息和文字
    2.文字+收藏表情  收藏表情一般是在发送方本题存储，需要将图片上传到服务器，此时可以使用类似multipart的功能？(不太清楚)
    3.文字+网络表情 网络表情也是存储在表情服务器，将URL地址发送即可
    4.文字+固定+收藏+网络表情 移动端PC端微信都只支持1 PC端QQ支持任意方式  手机端QQ也不支持
断线重连技术
    客户端使用子线程开启定时任务监测channel状态，状态改变后尝试重连，重连策略自行控制。
视频聊天技术
心跳检查
    子线程定时发送心跳包